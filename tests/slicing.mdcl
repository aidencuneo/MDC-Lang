IMPORT 'random';

NEW DString
: String
: {
    TRY : {
        YIELD DATE `datetime.datetime.strptime(${0}.value, '%Y-%m-%d %H:%M:%S.%f')`;
    } : CATCH 'eval' : {
        RAISE 'syntax'
            'Invalid DString format. Format must match: YEAR-MONTH-DAY HOUR:MINUTE:SECOND.MICROSECOND';
    };
};

NEW Average
: Array
: {
    sum : 0.0;

    FOR $0 : {
        sum : sum + ,;
    };

    YIELD sum / [ LEN $0 ];
};

Average [ 1 2 3 4 ]; "\n";
[ 1 2 3 4 ] (::-1); "\n";
TO 100 (::10); "\n";
TO 100 SKIP 10; "\n";

/*

NOTE: SKIP keyword is NOT the same as using a slice with two preceding colons.

THIS:
TO 100 (::10);

Is the same as THIS:
TO 100 SKIP 10;

But, they are parsed differently.
When using SKIP with -1 (or any negative value), you are not reversing the value,
you are skipping through -1 (or another negative value) values and returning only
one item.
This is the difference between them.

THIS:
TO 100 (::-1);

Is different to THIS:
TO 100 SKIP -1;

First example returns numbers 99 to 0 in reverse.
Second example returns 0.

*/
